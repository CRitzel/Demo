name: Wiki CI

on: [ push ]

jobs:
  Publish_Wiki:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Upload Documentation to Wiki
      uses: SwiftDocOrg/github-wiki-publish-action@v1
      with:
        path: "Documentação"
      env:
        GH_PERSONAL_ACCESS_TOKEN: ${{ secrets.GH_PERSONAL_ACCESS_TOKEN }}

  Wiki2HTML:
    runs-on: ubuntu-18.04
    steps:
        - uses: actions/checkout@v2
        - run: |
            echo "Lorem ipsum" > lorem_1.md  # create two example files
            echo "dolor sit amet" > lorem_2.md
            mkdir output  # create output dir
            # this will also include README.md
            echo "::set-env name=FILELIST::$(printf '"%s" ' *.md)"
        - uses: docker://pandoc/latex:2.9
          with:
            args: --output=output/result.pdf ${{ env.FILELIST }}
        - uses: actions/upload-artifact@master
          with:
            name: output
            path: output

        
